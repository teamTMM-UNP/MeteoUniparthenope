#!/bin/bash

# Sample usage:
# ./ns-setup/ci/project-update-theme.sh TestApp

# Spec:
# Add theme plugin from  Sinopia

if [ "$#" -eq 1 ]; then
    app=$1
    if [[ "$PWD" == *release* ]]; then
        echo "Do nothing ... The correct version should come from the project template."
    else
        echo "Remove nativescript-theme-core plugin"
        node_modules/.bin/tns plugin remove nativescript-theme-core --path $app && true
        echo "Add nativescript-theme-core plugin"
        node_modules/.bin/tns plugin add nativescript-theme-core@latest --path $app
    fi
else    
    echo "Illegal number of parameters"
    echo "Sample usage:" 
    echo "./ns-setup/ci/project-update-theme.sh TestApp"
    exit 1
fi
