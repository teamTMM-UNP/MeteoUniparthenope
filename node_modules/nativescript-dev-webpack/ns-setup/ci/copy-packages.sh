#!/bin/bash
set -e

branch=$1
cli=nativescript.tgz
ios=tns-ios.tgz
android=tns-android.tgz
modules=tns-core-modules.tgz
widgets=tns-core-modules-widgets.tgz
angular=nativescript-angular.tgz

echo "Copying latest packages ..."
cp /tns-dist/CLI/$branch/$cli .
cp /tns-dist/tns-android/$branch/$android .
cp /tns-dist/tns-ios/$branch/$ios .
cp /tns-dist/tns-modules/$branch/$modules .
cp /tns-dist/android-widgets/$branch/$widgets .
cp /tns-dist/nativescript-angular/Stable/$angular .

if [ -f $cli ]; then
	echo "$cli successfully copied"
else
	echo "$cli failed to copy"
	exit 1
fi
if [ -f $ios ]; then
        echo "$ios successfully copied"
else
	echo "$ios failed to copy"
	exit 1
fi
if [ -f $android ]; then
        echo "$android successfully copied"
else
	echo "$android failed to copy"
	exit 1
fi
if [ -f $modules ]; then
        echo "$modules successfully copied"
else
	echo "$modules failed to copy"
	exit 1
fi
if [ -f $widgets ]; then
        echo "$widgets successfully copied"
else
	echo "$widgets failed to copy"
	exit 1
fi
if [ -f $angular ]; then
        echo "$angular successfully copied"
else
	echo "$angular failed to copy"
	exit 1
fi
